<!DOCTYPE html>
<!-- saved from url=(0059)https://code.google.com/p/jquery-ui-map/issues/detail?id=53 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 
 <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
 
 <meta name="ROBOTS" content="NOARCHIVE">
 
 <link rel="icon" type="image/vnd.microsoft.icon" href="https://ssl.gstatic.com/codesite/ph/images/phosting.ico">
 
 
 <script src="./Issue 53 - jquery-ui-map - New zoom level sets, but there is no visual change to the map. - Google map v3 plugin for jQuery and jQuery Mobile - Google Project Hosting_files/cb=gapi.loaded_0" async=""></script><script type="text/javascript" async="" src="./Issue 53 - jquery-ui-map - New zoom level sets, but there is no visual change to the map. - Google map v3 plugin for jQuery and jQuery Mobile - Google Project Hosting_files/plusone.js" gapi_processed="true"></script><script type="text/javascript">
 
 
 
 
 var codesite_token = "ABZ6GAdRt7R8-UaVsrZW386mkM8UHpqvZQ:1445464226040";
 
 
 var CS_env = {"assetVersionPath": "https://ssl.gstatic.com/codesite/ph/5825124916300507488", "relativeBaseUrl": "", "assetHostPath": "https://ssl.gstatic.com/codesite/ph", "projectHomeUrl": "/p/jquery-ui-map", "projectName": "jquery-ui-map", "loggedInUserEmail": "ci382@nyu.edu", "token": "ABZ6GAdRt7R8-UaVsrZW386mkM8UHpqvZQ:1445464226040", "domainName": null, "profileUrl": "/u/103398516534097744136/"};
 var _gaq = _gaq || [];
 _gaq.push(
 ['siteTracker._setAccount', 'UA-18071-1'],
 ['siteTracker._trackPageview']);
 
 _gaq.push(
 ['projectTracker._setAccount', 'UA-17614686-3'],
 ['projectTracker._trackPageview']);
 
 (function() {
 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
 })();
 
 </script><script type="text/javascript" async="" src="./Issue 53 - jquery-ui-map - New zoom level sets, but there is no visual change to the map. - Google map v3 plugin for jQuery and jQuery Mobile - Google Project Hosting_files/ga.js"></script>
 
 
 <title>Issue 53 - 
 jquery-ui-map -
 
 New zoom level sets, but there is no visual change to the map. - 
 Google map v3 plugin for jQuery and jQuery Mobile - Google Project Hosting
 </title>
 <link type="text/css" rel="stylesheet" href="./Issue 53 - jquery-ui-map - New zoom level sets, but there is no visual change to the map. - Google map v3 plugin for jQuery and jQuery Mobile - Google Project Hosting_files/core.css">
 
 <link type="text/css" rel="stylesheet" href="./Issue 53 - jquery-ui-map - New zoom level sets, but there is no visual change to the map. - Google map v3 plugin for jQuery and jQuery Mobile - Google Project Hosting_files/ph_detail.css">
 
 
 
 
<!--[if IE]>
 <link type="text/css" rel="stylesheet" href="https://ssl.gstatic.com/codesite/ph/5825124916300507488/css/d_ie.css" >
<![endif]-->
 <style type="text/css">
 .menuIcon.off { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -42px }
 .menuIcon.on { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -28px }
 .menuIcon.down { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 0; }
 
 
 .attachments { width:33%; border-top:2px solid #999; padding-top: 3px; margin-left: .7em;}
 .attachments table { margin-bottom: 0.75em; }
 .attachments table tr td { padding: 0; margin: 0; font-size: 95%; }
 .preview { border: 2px solid #c3d9ff; padding: 1px; }
 .preview:hover { border: 2px solid blue; }
 .label { white-space: nowrap; }
 .derived { font-style:italic }
 .cursor_on .author {
 background: url(https://ssl.gstatic.com/codesite/ph/images/show-arrow.gif) no-repeat 2px;
 }
 .hiddenform {
 display: none;
 }

 
 </style>
<style id="style-1-cropbar-clipper">/* Copyright 2014 Evernote Corporation. All rights reserved. */
.en-markup-crop-options {
    top: 18px !important;
    left: 50% !important;
    margin-left: -100px !important;
    width: 200px !important;
    border: 2px rgba(255,255,255,.38) solid !important;
    border-radius: 4px !important;
}

.en-markup-crop-options div div:first-of-type {
    margin-left: 0px !important;
}
</style></head>
<body class="t3">
<script type="text/javascript">
 window.___gcfg = {lang: 'en'};
 (function() 
 {var po = document.createElement("script");
 po.type = "text/javascript"; po.async = true;po.src = "https://apis.google.com/js/plusone.js";
 var s = document.getElementsByTagName("script")[0];
 s.parentNode.insertBefore(po, s);
 })();
</script>
<div class="headbg">

 <div id="gaia">
 

 <span>
 
 
 
 <a href="https://code.google.com/p/jquery-ui-map/issues/detail?id=53#" id="multilogin-dropdown" onclick="return false;"><u><b>ci382@nyu.edu</b></u> <small>▼</small></a>
 
 
 | <a href="https://code.google.com/u/103398516534097744136/" id="projects-dropdown" onclick="return false;"><u>My favorites</u> <small>▼</small></a>
 | <a href="https://code.google.com/u/103398516534097744136/" onclick="_CS_click(&#39;/gb/ph/profile&#39;);" title="Profile, Updates, and Settings"><u>Profile</u></a>
 | <a href="https://www.google.com/accounts/Logout?continue=https%3A%2F%2Fcode.google.com%2Fp%2Fjquery-ui-map%2Fissues%2Fdetail%3Fid%3D53" onclick="_CS_click(&#39;/gb/ph/signout&#39;);"><u>Sign out</u></a>
 
 </span>

 </div>

 <div class="gbh" style="left: 0pt;"></div>
 <div class="gbh" style="right: 0pt;"></div>
 
 
 <div style="height: 1px"></div>
<!--[if lte IE 7]>
<div style="text-align:center;">
Your version of Internet Explorer is not supported. Try a browser that
contributes to open source, such as <a href="http://www.firefox.com">Firefox</a>,
<a href="http://www.google.com/chrome">Google Chrome</a>, or
<a href="http://code.google.com/chrome/chromeframe/">Google Chrome Frame</a>.
</div>
<![endif]-->



 <table style="padding:0px; margin: 0px 0px 10px 0px; width:100%" cellpadding="0" cellspacing="0" itemscope="" itemtype="http://schema.org/CreativeWork">
 <tbody><tr style="height: 58px;">
 
 
 
 <td id="plogo">
 <link itemprop="url" href="https://code.google.com/p/jquery-ui-map">
 <a href="https://code.google.com/p/jquery-ui-map/">
 
 <img src="./Issue 53 - jquery-ui-map - New zoom level sets, but there is no visual change to the map. - Google map v3 plugin for jQuery and jQuery Mobile - Google Project Hosting_files/defaultlogo.png" alt="Logo" itemprop="image">
 
 </a>
 </td>
 
 <td style="padding-left: 0.5em">
 
 <div id="pname">
 <a href="https://code.google.com/p/jquery-ui-map/"><span itemprop="name">jquery-ui-map</span></a>
 </div>
 
 <div id="psum">
 <a id="project_summary_link" href="https://code.google.com/p/jquery-ui-map/"><span itemprop="description">Google map v3 plugin for jQuery and jQuery Mobile</span></a>
 
 </div>
 
 
 </td>
 <td style="white-space:nowrap;text-align:right; vertical-align:bottom;">
 
 <form action="https://code.google.com/hosting/search">
 <input size="30" name="q" value="" type="text">
 
 <input type="submit" name="projectsearch" value="Search projects">
 </form>
 
 </td></tr>
 </tbody></table>

</div>

 
<div id="mt" class="gtb"> 
 <a href="https://code.google.com/p/jquery-ui-map/" class="tab ">Project&nbsp;Home</a>
 
 
 
 
 <a href="https://code.google.com/p/jquery-ui-map/downloads/list" class="tab ">Downloads</a>
 
 
 
 
 
 <a href="https://code.google.com/p/jquery-ui-map/w/list" class="tab ">Wiki</a>
 
 
 
 
 
 <a href="https://code.google.com/p/jquery-ui-map/issues/list" class="tab active">Issues</a>
 
 
 
 
 
 <a href="https://code.google.com/p/jquery-ui-map/source/checkout" class="tab ">Source</a>
 
 
 
 
 
 
 
 
 <a href="https://code.google.com/export-to-github/export?project=jquery-ui-map">
 <button>Export to GitHub</button>
 
 </a>
 
 
 <div class="gtbc"></div>
</div>

 
 <div style="font-weight: bold; color: #c00; margin-top: 5px; margin-left: 13px;">
 READ-ONLY: This project has been <a href="https://code.google.com/archive/p/jquery-ui-map">archived</a>. For more information see <a href="https://code.google.com/p/support/wiki/ReadOnlyTransition">this post</a>.
 </div>
 

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0" class="st">
 <tbody><tr>
 
 
 
 
 
 <td class="subt">
 <div class="issueDetail">
<div class="isf">
 
 <span class="inIssueList">
 <span>Search</span>
 <form action="https://code.google.com/p/jquery-ui-map/issues/list" method="GET" style="display:inline">
 <select id="can" name="can">
 
<option disabled="disabled">Search within:</option>
<option value="1">&nbsp;All issues</option>
<option value="2" selected="selected">&nbsp;Open issues</option>

 <option value="3">&nbsp;Open and owned by me</option>
 <option value="4">&nbsp;Open and reported by me</option>
 <option value="5">&nbsp;Open and starred by me</option>
 <option value="8">&nbsp;Open with comment by me</option>

<option value="6">&nbsp;New issues</option>
<option value="7">&nbsp;Issues to verify</option>

 </select>
 <span>for</span>
 <span id="qq"><input type="text" size="38" id="searchq" name="q" value="" autocomplete="off" onkeydown="_blurOnEsc(event)"></span>
 
 
 <span id="search_colspec"><input type="hidden" name="colspec" value="ID Type Status Priority Milestone Owner Summary"></span>
 
 
 
 <input type="hidden" name="cells" value="tiles">
 <input type="submit" value="Search">
 </form>
 </span> &nbsp;
 <span class="inIssueAdvSearch">
 <a href="https://code.google.com/p/jquery-ui-map/issues/advsearch">Advanced search</a>
 </span> &nbsp;
 <span class="inIssueSearchTips">
 <a href="https://code.google.com/p/jquery-ui-map/issues/searchtips">Search tips</a>
 </span> &nbsp;
 <span class="inIssueSubscriptions">
 <a href="https://code.google.com/p/jquery-ui-map/issues/subscriptions">Subscriptions</a>
 </span>
</div>
</div>
 </td>
 
 
 
 
 <td align="right" valign="top" class="bevel-right"></td>
 </tr>
</tbody></table>


<script type="text/javascript">
 var cancelBubble = false;
 function _go(url) { document.location = url; }
</script>
<div id="maincol">

 






 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 


 

<div id="color_control" class="">
<div id="issueheader">
<table cellpadding="0" cellspacing="0" width="100%"><tbody>
 <tr>
 <td class="vt h3" nowrap="nowrap" style="padding:0 5px">
 
 
 
 
 Issue <a href="./Issue 53 - jquery-ui-map - New zoom level sets, but there is no visual change to the map. - Google map v3 plugin for jQuery and jQuery Mobile - Google Project Hosting_files/Issue 53 - jquery-ui-map - New zoom level sets, but there is no visual change to the map. - Google map v3 plugin for jQuery and jQuery Mobile - Google Project Hosting.html">53</a>:
 </td>
 <td width="90%" class="vt">
 <span class="h3">New zoom level sets, but there is no visual change to the map.</span>
 </td>
 <td>
 
 <div class="pagination">
 <a href="https://code.google.com/p/jquery-ui-map/issues/detail?id=52" title="Prev" rel="nofollow">‹ Prev</a>
 11 of 48
 <a href="https://code.google.com/p/jquery-ui-map/issues/detail?id=54" title="Next" rel="nofollow">Next ›</a>
 </div>
 </td>
 </tr>
 <tr>
 <td></td>
 <td nowrap="nowrap">
 
 
 5 people starred this issue and may be notified of changes.
 
 
 
 </td>
 <td align="center" nowrap="nowrap">
 
 <a href="https://code.google.com/p/jquery-ui-map/issues/list?cursor=jquery-ui-map%3A53">Back to list</a>
 
 </td>
 </tr>
 
</tbody></table>
</div>
<table width="100%" cellpadding="0" cellspacing="0" border="0" class="issuepage" id="meta-container">
<tbody class="collapse"> 
 <tr>
 <td id="issuemeta" style="min-width: 93px;">
 <div id="meta-float" style="width: 93px; position: fixed; left: 0px; top: 0px;">
 
<table cellspacing="0" cellpadding="0">
 <tbody><tr><th align="left">Status:&nbsp;</th>
 <td width="100%">
 
 <span title="Issue has not had initial review yet">New</span>
 
 </td>
 </tr>
 
 
 
 
 <tr><th align="left">Owner:&nbsp;</th><td>
 
 
 ----
 
 
 </td>
 </tr>
 
 
 
 <tr><td colspan="2">
 
 
 
 <div style="padding-top:2px">
 
 <a href="https://code.google.com/p/jquery-ui-map/issues/list?q=label:Type-Defect" title="Report of a software defect" class="label"><b>Type-</b>Defect</a>
 
 </div>
 
 
 
 
 <div style="padding-top:2px">
 
 <a href="https://code.google.com/p/jquery-ui-map/issues/list?q=label:Priority-Medium" title="Normal priority" class="label"><b>Priority-</b>Medium</a>
 
 </div>
 
 
 </td></tr>
 
</tbody></table>
<div class="rel_issues">
 
 
 
</div>


 <br><br>
 


 
 </div>&nbsp;
 </td>
 <td class="vt issuedescription" width="100%" id="cursorarea">
 
<div class="cursor_off vt issuedescription" id="hc0">
 
 
 <div class="author">
 
 Reported by
 

 <a class="userlink" href="https://code.google.com/u/102425780028178641444/">david.c....@gmail.com</a>,
 <span class="date" title="Mon Jun 18 02:05:28 2012">Jun 18, 2012</span>
 
 </div>
<pre><b>What steps will reproduce the problem?</b>
1.  Create a map with a single marker using the example code (shown below).
2.  Set the "zoom" MapOption using the example code.
3.  An alert shows the zoom level has changed, but visually the map is at the default zoom level.


<b>What is the expected output? What do you see instead?</b>

A single marker map that shows more surrounding area... aka: "zoomed out"


<b>What version of the product are you using? On what operating system?</b>

jQuery UI Google map v3 version 3.0-rc1

Windows 7
Chrome 20.0.1132.34 beta-m ...and/or... Firefox 12.0


<b>Please provide any additional information below.</b>

I am rather green with jQuery so this may just be a novice mistake, but I cannot seem to figure it out.  I tried setting the zoom option before and after initalizing the map, but nothing seems to make any changes to the zoom level.

var zoom = $('#map_canvas').gmap('option', 'zoom');
alert(zoom);  /* this alert shows... 5 */

$('#map_canvas').gmap('option', 'zoom', 7);
var zoom2 = $('#map_canvas').gmap('option', 'zoom');
alert(zoom2); /* this alert shows... 7 */

$('#map_canvas').gmap('addMarker', {'position':'33.6390990,-112.39575760', 'bounds':true}).click(function() {
	$('#map_canvas').gmap('openInfoWindow', {'content': 'Hello World'}, this);
});
$('#map_canvas').gmap('refresh'); /* I tried this but it did nothing for me */

$('#map_canvas').gmap('option', 'zoom', 7);
var zoom3 = $('#map_canvas').gmap('option', 'zoom');
alert(zoom3); /* this alert shows... 7 */
</pre>

</div>

 


 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc1">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Mon Jun 18 02:21:28 2012">
 Jun 18, 2012
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c1" href="https://code.google.com/p/jquery-ui-map/issues/detail?id=53#c1">#1</a>
 

 <a class="userlink" href="https://code.google.com/u/102425780028178641444/">david.c....@gmail.com</a></span>
 
<pre>I solved my problem almost instantly after posting it here.  Such is life.

Solution: Create the map and set both zoom and center before adding a marker.  Also, set 'bounds' to false.

Example that DOES work:
.............

$('#map_canvas').gmap({'zoom':15, 'center':'33.6390990,-112.39575760'}).bind('init', function() {
	$('#map_canvas').gmap('addMarker', {'position':'33.6390990,-112.39575760', 'bounds':false}).click(function() {
		$('#map_canvas').gmap('openInfoWindow', {'content': 'Hello World'}, this);
	});
});

.............

Notes:
1) "bounds" must be set to false
2) If center is not set it defaults to 0,0

If anyone has a cleaner or more appropriate way to write this code I would genuinely appreciate the guidance.

Thank You
~ Kirkland
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc2">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Thu Aug 23 20:51:00 2012">
 Aug 23, 2012
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c2" href="https://code.google.com/p/jquery-ui-map/issues/detail?id=53#c2">#2</a>
 

 <a class="userlink" href="https://code.google.com/u/108447448685984525748/">RobertsJ...@gmail.com</a></span>
 
<pre>The zoom problem hung me up for a while too, but after reading Kirkland's post, and a little messing around I think I have a solution.

........................

$(function() { 
				demo.add(function() {
					$('#map_canvas').gmap({'disableDefaultUI':false, 'callback': function() {
						var self = this;
						$.getJSON( 'map_details.json', function(data) { 
							$.each( data.markers, function(i, marker) {
								self.addMarker({ 'position': new google.maps.LatLng(marker.lat, marker.lng), 'bounds':false } ).click(function() {
									self.openInfoWindow({ 'content': 
															'&lt;div class="post"&gt;'+
															'&lt;h1&gt;'+marker.title+'&lt;/h1&gt;'+
															'&lt;p&gt;'+marker.description+'&lt;/p&gt;'+
															'&lt;p&gt;Lattitude: &lt;em&gt;'+marker.lat+'&lt;/em&gt;&lt;/p&gt;'+
															'&lt;p&gt;Longitude: &lt;strong&gt;'+marker.lng+'&lt;/strong&gt;&lt;/p&gt;'+
															'&lt;/div&gt;'}, this);
								});
							});
						});
					}}); 
				}).load();
			});

................


1)  Set "bounds" to false 
2)  Go into "query.ui.map.js" and find this little block-o-code

................

_latLng: function(latLng) {
			if ( !latLng ) {
				return new google.maps.LatLng(0.0, 0.0);
			}
			if ( latLng instanceof google.maps.LatLng ) {
				return latLng;
			} else {
				latLng = latLng.replace(/ /g,'').split(',');
				return new google.maps.LatLng(latLng[0], latLng[1]);
			}
		},

...............

3)  Replace the "(0.0,0.0)" with a lat,lng for the general area your markers will be.  This is what I have.

..............

if ( !latLng ) {
				return new google.maps.LatLng(35.483292, -80.959892);

.............


Now you can adjust the zoom in "jquery.ui.map.js"  to whatever you like, and your map won't open in the middle of the ocean somewhere.

Good Luck!

-c
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc3">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Thu Aug 30 14:44:35 2012">
 Aug 30, 2012
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c3" href="https://code.google.com/p/jquery-ui-map/issues/detail?id=53#c3">#3</a>
 

 <a class="userlink" href="https://code.google.com/u/116220411855126856661/">ali.will...@gmail.com</a></span>
 
<pre>Kirkland, you are a lifesaver! Your code works like a charm...on my desktop.  When I try to open it in Safari on my iPhone, it gets stuck loading, and loading, and...no error, no timeout, just loading. Did you get your code to run on a mobile device?

Thanks again for your solution!
Ali
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc4">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Thu Aug 30 15:10:45 2012">
 Aug 30, 2012
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c4" href="https://code.google.com/p/jquery-ui-map/issues/detail?id=53#c4">#4</a>
 

 <a class="userlink" href="https://code.google.com/u/116220411855126856661/">ali.will...@gmail.com</a></span>
 
<pre>Answered my own question -- helps if you publish the plugin files properly. Duh. 
Thanks!
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc5">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri Aug 31 16:39:39 2012">
 Aug 31, 2012
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c5" href="https://code.google.com/p/jquery-ui-map/issues/detail?id=53#c5">#5</a>
 

 <a class="userlink" href="https://code.google.com/u/116220411855126856661/">ali.will...@gmail.com</a></span>
 
<pre>Have either of you had a problem where your marker becomes uncentered after the first display? I have tried resizing, refreshing etc.
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc6">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri Aug 31 16:52:37 2012">
 Aug 31, 2012
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c6" href="https://code.google.com/p/jquery-ui-map/issues/detail?id=53#c6">#6</a>
 

 <a class="userlink" href="https://code.google.com/u/102425780028178641444/">david.c....@gmail.com</a></span>
 
<pre>No, but what do you mean by "first display".  Are you refreshing the page via AJAX, or is it a full page reload, or... ?
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc7">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Sep  4 11:12:04 2012">
 Sep 4, 2012
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c7" href="https://code.google.com/p/jquery-ui-map/issues/detail?id=53#c7">#7</a>
 

 <a class="userlink" href="https://code.google.com/u/116220411855126856661/">ali.will...@gmail.com</a></span>
 
<pre>I have an website that returns a list of facilities based upon the user's lat/long, with the ability to view a map for any of the listed facilities.

When I click one in the list, it returns the correct map with the marker at center.  When I return to the list and click on a different facility map, the correct map returns, but the marker is off to the left and I have to drag it over in order to see it.  It is a full page reload for every map click.  Here is the code (your code, actually):  :-) 

&lt;script type="text/javascript"&gt;

$(function () {

     $('#map_canvas').gmap({ 'zoom': 16, 'center': new google.maps.LatLng(Form1.lat.value, Form1.lon.value) }).bind('init', function () {
     $('#map_canvas').gmap('addMarker', { 'position': new google.maps.LatLng(Form1.lat.value, Form1.lon.value), 'bounds': false }).click(function () {
    $('#map_canvas').gmap('openInfoWindow', { 'content': '' }, this);
      });
    });
  });
        
});
   
&lt;/script&gt;
&lt;div id="map_canvas" style="width:250px;height:250px"&gt;&lt;/div&gt;
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc9">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Sep  4 12:20:08 2012">
 Sep 4, 2012
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c9" href="https://code.google.com/p/jquery-ui-map/issues/detail?id=53#c9">#9</a>
 

 <a class="userlink" href="https://code.google.com/u/102425780028178641444/">david.c....@gmail.com</a></span>
 
<pre>So it is the correct marker and general location, but the map is not centered properly, correct?  Is it in the top-left corner, or centered vertically?  Have you tried to refresh?

$('#map_canvas').gmap('refresh');

You can also try clearing the markers, so that the data you pass along through the form is "new" each time...

$('#map_canvas').gmap('clear', 'markers');
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc10">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Sep  4 14:36:12 2012">
 Sep 4, 2012
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c10" href="https://code.google.com/p/jquery-ui-map/issues/detail?id=53#c10">#10</a>
 

 <a class="userlink" href="https://code.google.com/u/116220411855126856661/">ali.will...@gmail.com</a></span>
 
<pre>Yes, the correct marker and general location, just not centered. It is off to the top left corner.

Adding $('#map_canvas').gmap('refresh'); and/or 
$('#map_canvas').gmap('clear', 'markers'); to the beginning of the code block put me off the coast of Africa, with no marker at all.  Putting it at the end of the code block did not appear to do anything at all.

&lt;script type="text/javascript"&gt;

    $(function () {

        $('#map_canvas').gmap('refresh');
        $('#map_canvas').gmap('clear', 'markers');
        $('#map_canvas').gmap({ 'zoom': 16, 'center': new google.maps.LatLng(Form1.lat.value, Form1.lon.value) }).bind('init', function () {
        $('#map_canvas').gmap('addMarker', { 'position': new google.maps.LatLng(Form1.lat.value, Form1.lon.value), 'bounds': false }).click(function () {
        $('#map_canvas').gmap('openInfoWindow', { 'content': '' }, this);
                  
            });
        });
    });   
&lt;/script&gt;


</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc13">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Sep  4 14:46:30 2012">
 Sep 4, 2012
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c13" href="https://code.google.com/p/jquery-ui-map/issues/detail?id=53#c13">#13</a>
 

 <a class="userlink" href="https://code.google.com/u/102425780028178641444/">david.c....@gmail.com</a></span>
 
<pre>Try...

$('#map_canvas').gmap('refresh');
and/or
$('#map_canvas').gmap('clear', 'markers');

...on the page with the form, not the page with the map.  That way, when the user clicks the back button is clears the data and starts new again when they submit the form (click the link).

Usually when the marker is in the top left corner it means that data from the last map load is being used with the current map load.  In most cases .gmap('refresh') is the fix, its just a matter of figuring out the sequence of events and refreshing at the right time.

Also clear your browser cache between tests.
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc14">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Sep  4 15:53:34 2012">
 Sep 4, 2012
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c14" href="https://code.google.com/p/jquery-ui-map/issues/detail?id=53#c14">#14</a>
 

 <a class="userlink" href="https://code.google.com/u/116220411855126856661/">ali.will...@gmail.com</a></span>
 
<pre>Well, apparently I can't find the magical sequence of events.  I've got the refresh and the clear markers in the listing of facilities and the map still won't display correctly.  Grrrrr....
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc15">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Sep  4 16:31:23 2012">
 Sep 4, 2012
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c15" href="https://code.google.com/p/jquery-ui-map/issues/detail?id=53#c15">#15</a>
 

 <a class="userlink" href="https://code.google.com/u/116220411855126856661/">ali.will...@gmail.com</a></span>
 
<pre>It doesn't appear that the data from the last map load is the problem. I tried setting the zoom to 10 (which is city view) and picking two facilities that are next to each other. The second map still was off to the left, not even showing the city name.
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc16">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Sep  4 16:34:10 2012">
 Sep 4, 2012
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c16" href="https://code.google.com/p/jquery-ui-map/issues/detail?id=53#c16">#16</a>
 

 <a class="userlink" href="https://code.google.com/u/102425780028178641444/">david.c....@gmail.com</a></span>
 
<pre>I looked over the code again and I think I just realized the problem.  To recenter the map you need to use...

.gmap('option', 'center', new google.maps.LatLng(Form1.lat.value, Form1.lon.value)

...or something like that.  Basically the center of the map is cached when it first loads.  Since its technically the same map (same selector) with different data you need to use 'option' to re-declare the center.  I may have the exact syntax incorrect since I'm going off memory and its been awhile.  Check the docs for how to update options.

Hopefully the third time is a charm... I'm crossing fingers for you.

P.S. I would still clear the markers on the listing facilities page even though it doesn't seem to have a direct impact in regards to this specific issue.
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc17">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Sep  4 16:44:09 2012">
 Sep 4, 2012
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c17" href="https://code.google.com/p/jquery-ui-map/issues/detail?id=53#c17">#17</a>
 

 <a class="userlink" href="https://code.google.com/u/116220411855126856661/">ali.will...@gmail.com</a></span>
 
<pre>I will try that...thank you so much for your help.
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc18">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Mon Jul 15 06:26:47 2013">
 Jul 15, 2013
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c18" href="https://code.google.com/p/jquery-ui-map/issues/detail?id=53#c18">#18</a>
 

 <a class="userlink" href="https://code.google.com/u/115092841340806911626/">lordm...@googlemail.com</a></span>
 
<pre>Use addBounds() to add some offset ...
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc19">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri Dec  6 04:06:17 2013">
 Dec 6, 2013
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c19" href="https://code.google.com/p/jquery-ui-map/issues/detail?id=53#c19">#19</a>
 

 <a class="userlink" href="https://code.google.com/u/115424315110914209498/">hpa...@gmail.com</a></span>
 
<pre>Finally found a way around this, by setting the zoom level at the callback of the marker that has the bounds attribute to true.
self.addMarker({'position': '33.6390990,-112.39575760', 'bounds': true}, function(){self.option('zoom',7)});

set the bounds attribute of the marker you want to center at to true, this will move the map to that position and in its callback change the zoom level you want (adding it after will not change the map zoom level unless you redraw the map).

Usage Example:
This will create a map
set a marker at the user's current location
center it on the map
and set its zoom level to 7

$('#map_canvas').gmap({'mapTypeControl':false, 'disableDefaultUI':false, 'callback': function() {
        var self = this;
	self.getCurrentPosition(function(position, status) {
	if ( status === 'OK' ) {
	    $clientPosition = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
	    self.set('clientPosition', $clientPosition);
	    self.addMarker({'position': self.get('clientPosition'), 'bounds': true}, function(){self.option('zoom',7)});
	}
	});   
}});

</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc20">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Thu May  8 22:08:04 2014">
 May 8, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c20" href="https://code.google.com/p/jquery-ui-map/issues/detail?id=53#c20">#20</a>
 

 <a class="userlink" href="https://code.google.com/u/srivasanthan143/">srivasanthan143</a></span>
 
<pre>Hai,
                        $('#map_canvas').gmap('openInfoWindow', {'content': 'NTL Taxi( NON AC, 4)'}, this);
 
 For this coding.I need to insert button on content. When i click the button, a new page will open. ls give sollution for this

</pre>
 
 
 </div>
 


 


 </td>
 </tr>

</tbody>
</table>
<br>
<script type="text/javascript" src="./Issue 53 - jquery-ui-map - New zoom level sets, but there is no visual change to the map. - Google map v3 plugin for jQuery and jQuery Mobile - Google Project Hosting_files/dit_scripts.js"></script>



</div> 
<form name="delcom" action="https://code.google.com/p/jquery-ui-map/issues/delComment.do?q=&can=2&groupby=&sort=&colspec=ID+Type+Status+Priority+Milestone+Owner+Summary" method="POST">
 <input type="hidden" name="sequence_num" value="">
 <input type="hidden" name="mode" value="">
 <input type="hidden" name="id" value="53">
 <input type="hidden" name="token" value="ABZ6GAdRt7R8-UaVsrZW386mkM8UHpqvZQ:1445464226040">
</form>

<div id="helparea"></div>
<script type="text/javascript">
 _onload();
 function delComment(sequence_num, delete_mode) {
 var f = document.forms["delcom"];
 f.sequence_num.value = sequence_num;
 f.mode.value = delete_mode;
 
 f.submit();
 return false;
 }
 
 _floatMetadata();
</script>
<script type="text/javascript" src="./Issue 53 - jquery-ui-map - New zoom level sets, but there is no visual change to the map. - Google map v3 plugin for jQuery and jQuery Mobile - Google Project Hosting_files/kibbles.js"></script>
<script type="text/javascript">
 _setupKibblesOnDetailPage(
 'https://code.google.com/p/jquery-ui-map/issues/list?cursor\x3djquery-ui-map%3A53',
 '/p/jquery-ui-map/issues/entry',
 '../../jquery-ui-map/issues/detail?id\x3d52',
 '../../jquery-ui-map/issues/detail?id\x3d54',
 '', 'jquery-ui-map', 53,
 false, false, codesite_token);
</script>
 
 
 
 <script type="text/javascript" src="./Issue 53 - jquery-ui-map - New zoom level sets, but there is no visual change to the map. - Google map v3 plugin for jQuery and jQuery Mobile - Google Project Hosting_files/ph_core.js"></script>
 
 
 
 
</div> 

<div id="footer" dir="ltr">
 <div class="text">
 <a href="https://code.google.com/projecthosting/terms.html">Terms</a> -
 <a href="http://www.google.com/privacy.html">Privacy</a> -
 <a href="https://code.google.com/p/support/">Project Hosting Help</a>
 </div>
</div>
 <div class="hostedBy" style="margin-top: -20px;">
 <span style="vertical-align: top;">Powered by <a href="http://code.google.com/projecthosting/">Google Project Hosting</a></span>
 </div>

 
 


 
 


<div class="menuDiv instance0" id="menuDiv-projects-dropdown" style="display: none;"><div class="menuCategory default"></div><div class="menuCategory controls"><hr class="menuSeparator"><a class="menuItem" href="https://code.google.com/hosting/" style="display: block;">Find open source projects...</a><a class="menuItem" href="https://code.google.com/hosting/createProject" style="display: block;">Create a project...</a></div></div><div class="menuDiv instance1" id="menuDiv-multilogin-dropdown" style="display: none;"><div class="menuCategory default"><span class="menuText" style="display: block;"><b>ci382@nyu.edu</b></span></div><div class="menuCategory controls"><hr class="menuSeparator"><a class="menuItem" href="http://www.google.com/accounts/AddSession?service=code&continue=https%3A%2F%2Fcode.google.com%2Fp%2Fjquery-ui-map%2Fissues%2Fdetail%3Fid%3D53" style="display: block;"><nobr>Sign in with another account...</nobr></a></div></div></body></html>